---
slug: /
id: feeds
sidebar_position: 3
title: Feeds
---
# Feeds
A Feed is like a Stack (FILO) of activities. 
The activities are the building blocks, and the Feed is the stack. 
So if you add a new activity to the stack on top of many other activities 
and retrieve 1 activity, itâ€™ll be the last one you added. 
Feeds do not contain any data other than the type and the id. 
The Feed type allows you to separate concerns and to apply different 
permissions to a group of feeds. 

There are three types of feeds:

1. Flat
2. Aggregated
3. Notification

You can create any kind of feed type in the dashboard for your application.

In this page, we will explore the different feed types in detail. 

## Flat Feeds
Flat is the default feed type - and the **only** feed type that you can follow.
It's not possible to follow either aggregated or notification feeds.

Flat feeds are things like Twitter's timeline - a stream of activity that you 
can subscribe to. You can also get realtime notifications for flat feeds, if 
you enable it for your application.

### Creating a Flat Feed

You can create a flat feed like so:

```dart
final chris = client.flatFeed('user', 'chris');
```

Let's break this apart:
* `client` is an instance of `StreamFeedClient` (defined in a different
piece of code)
* the `flatFeed` method creates an instance of `FlatFeed` and assigns it to the 
variable `chris`

Now, let's examine the `flatFeed` function. This function is defined as a function
of `StreamFeedClient` like so:

```dart
FlatFeed flatFeed(String slug, [String? userId]);
```

A "slug" is a human-readable, unique identifier - basically, an ID. So we are "ID'ing"
our feed as a 'user' feed. (We often call this a "feed group" in our documentation.) You can optionally pass a `userId` to override the `userId`
Stream infers from your token.

You can name your feed anything you want. Just remember to create it in the dashboard
for your application.

Read more about feed groups [here](https://getstream.zendesk.com/hc/en-us/articles/1500000978901-What-s-the-Difference-Between-Feeds-and-Feed-Groups-)

### Following a Flat Feed
To follow a flat feed, you need to call the `follow()` function on your feed. This is an
asynchronous function, so you will need to await it. Take the following example:

```dart
final chris = client.flatFeed('user', 'chris');
final jacksTimeline = client.flatFeed('timeline', 'jack');

await chris.follow(jacksTimeline);
```

In this example, we are creating two `FlatFeed`s to represent two different entities, Chris
and Jack, and Chris follows Jack's `FlatFeed`, which in this case is his timeline.

It should be noted that if you would like to follow a single feed in the absence of other feeds,
no action needs to be taken.

You can also subscribe to realtime changes in the feed by calling the `subscribe()` function
on your feed. Here's an example for how to subscribe to realtime changes in a Flutter app:

```dart
late StreamFeedClient _client;
late final Subscription _feedSubscription;

Future<void> _listenToFeed() async {
  _feedSubscription = await _client
    .flatFeed('timeline', widget.currentUser.id)
    .subscribe((message) {
      print(message);
  });
}

@override
void didChangeDependencies() {
  super.didChangeDependencies();
  _client = context.client; // This is an extension! See below.
  _listenToFeed();
}

@override
void dispose() {
  super.dispose();
  // Be sure to cancel your subscription!
  _feedSubscription.cancel();
}

...

extension ProviderX on BuildContext {
  StreamFeedClient get client => ClientProvider.of(this).client;
}
```

### Getting Activities From a Flat Feed
In order to get the activities in a flat feed you must call the `getActivities()`
function. Let's take a look at this `_loadActivities` function from a Flutter
application:

```dart
Future<void> _loadActivities({bool pullToRefresh = false}) async {
  if (!pullToRefresh) setState(() => _isLoading = true);

  final userFeed = _client.flatFeed('user', widget.currentUser.id);
  final data = await userFeed.getActivities();
  if (!pullToRefresh) _isLoading = false;
  setState(() => activities = data);
}
```

Let's analyze what is happening in this function:

* A boolean `pullToRefresh` value is passed into the function from a `RefreshIndicator`
widget's `onRefresh` callback. This tells the application whether we are loading activities
from an initial load or a refresh event
* If this is not a refresh event, we set an `_isLoading` value to `true`.
* We declare our instance of a flat feed. Its feed group is 'user' and the id of the
feed is the user's id.
* We call `getActivities()` and set the result to a value called `data`
* We set `_isLoading` to `false` to indicate that we are not loading any activities
any more.
* We set the value of an `activities` value to `data`, which is our activities.

### Adding Activities to a Flat Feed
The content of Flat Feeds will be Activities. Let's take at an example from a 
Flutter application:

```dart
late StreamFeedClient _client;

@override
  void didChangeDependencies() {
  super.didChangeDependencies();
  _client = context.client;
  _loadActivities();
}
...

final user = widget.currentUser;

...

final activity = Activity(
  actor: user.ref,
  verb: 'post',
  object: '1',
  extraData: {'post': message},
);

final userFeed = _client.flatFeed('timeline', user.id);
await userFeed.addActivity(activity);
```

Let's break apart what is happening here:
* We are getting our current user via `widget.currentUser`. (This means we are dealing
with a stateful widget).
* We create an instance of `Activity` called `activity`, and populate its fields.
* We create an instance of our "timeline" flat feed.
* We add the activity to the feed by calling `await userFeed.addActivity(activity)`

## Aggregated Feeds
Aggregated feeds are feeds that group activities from different feed groups. Notification 
feeds are a good example of Aggregated Feeds.

## Notification Feeds
Notification Feed Groups extend the "Aggregated Feed Group" concept with 
additional features that make them well suited to notification systems:

* Notification Feeds contain Activity Groups, each with a `seen` and `read` status 
field. These fields can be updated to reflect how a user has interacted with a 
given notification.

* When retrieved, the Feed includes a real-time count of the total number of 
unseen and unread Activity Groups (notifications).

For example, take the notification system on Facebook. If you click the 
notification icon, all notifications get marked as seen. However, an 
individual notification only gets marked as read when you click on it.

You can create new Notification Feed Groups for your appplication in the dashboard.